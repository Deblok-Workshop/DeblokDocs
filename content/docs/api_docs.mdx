---
title: API Documentation
description: Deblok is a platform for disposable workspaces on-the-fly.
---

## NewDeblok
Keep in mind that the default ratelimit policies are 100 requests per 5 minutes across all api routes. This can be changed in `config.ts`.

#### GET `/api/healthcheck`:
Returns the status of the NewDeblok instance
```json
{"api":"up", "backend":["up","up","down"]}
```

## Captcha
#### GET `/api/captcha/request`:
Requests a captcha to be generated. Returns a UUID.

#### GET `/api/captcha/:query/void`:
Voids a captcha. Returns 204.

#### POST `/api/captcha/:query/validate`:
Checks if the given captcha is correct or not

**Example Body**:
```text
19
```

**Example Response**:
```text
true
```

#### GET `/api/captcha/:query/image.gif`:
Returns the image of a given captcha

## Authentication
#### POST `/api/auth/signup`:
Makes a new Deblok account, returns a UUID.
**Example Body**:
```json
{
  "usr":"md5:somemd5hashhere",
  "pwd":"sha256:somesha2hashhere",
  "em":"hi@rare1k.dev"
}
```

**Example Failure Response**:
```text
ERR: One or more fields are missing.
```

#### POST `/api/auth/login`:
Generates a new session for a Deblok account, returns a Deblok Auth Token.
**Example Body**:
```json
{
  "usr":"md5:somemd5hashhere",
  "pwd":"sha256:somesha2hashhere",
  "em":""
}
```

**Example Failure Response**:
```text
ERR: Password is incorrect
```

#### POST `/api/auth/tokenvalidate`:
Ensures a Deblok Auth Token is valid. Accepts a Deblok Auth Token and returns any errors or OK!

**Example Success Response** (200):
```text
OK!
```

**Example Failure Response** (400):
```text
ERR: The creation time and/or the expiry time is invalid.
```

## Container Management

#### POST `/api/container/create`:
Creates a Deblok container and returns the id, node, and the port.
* The name field has to be a friendly name from `docker/containers.json`
* The "for" field has to be a valid Deblok user id 
* The node field has to be the index of a DeblokManager node (-1 for automatic)

**Example Body**:
```json
{"name":"debian","for":"md5:examplemd5hash","node":-1}
```

**Example Success Response**:
```json
{"port":"59000:6080","fromNode":0,"returned":"41e2b8ffff2143f5757beef4e68d54cbc7cfe2f24f7ef61b5c947ce3a436d66d"}
```

**Example Failure Response**:
```text
ERR: Must provide userid.
```

## DeblokManager
Keep in mind that there is HTTP Basic auth applied to DeblokManager. You can change the password or username in `config/config.json`.
